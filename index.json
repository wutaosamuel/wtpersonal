[{"categories":["RAspberry-Pi","Gist","More"],"content":" 1 BackgroundRaspberry Pi OS become AP while connecting to wireless network. ","date":"2025-03-16","objectID":"/post/gist/rasp-ap/rasp-ap/:1:0","series":null,"tags":["Raspberry-Pi","Gist","More"],"title":"Connect to IPV6 network with public-ipv4-only VPS","uri":"/post/gist/rasp-ap/rasp-ap/#background"},{"categories":["RAspberry-Pi","Gist","More"],"content":" 2 Step Install RaspAP project with bash curl -sL https://install.raspap.com | bash create a virtual network interface for wlan0 into /etc/systemd/system/create-wlan01.service ","date":"2025-03-16","objectID":"/post/gist/rasp-ap/rasp-ap/:2:0","series":null,"tags":["Raspberry-Pi","Gist","More"],"title":"Connect to IPV6 network with public-ipv4-only VPS","uri":"/post/gist/rasp-ap/rasp-ap/#step"},{"categories":["RAspberry-Pi","Gist","More"],"content":" 3 Raspberry Pi AP problem","date":"2025-03-16","objectID":"/post/gist/rasp-ap/rasp-ap/:3:0","series":null,"tags":["Raspberry-Pi","Gist","More"],"title":"Connect to IPV6 network with public-ipv4-only VPS","uri":"/post/gist/rasp-ap/rasp-ap/#raspberry-pi-ap-problem"},{"categories":["C","Memo","More"],"content":"C related functions ","date":"2025-01-23","objectID":"/post/memo/c-function/c-function/:0:0","series":null,"tags":["C","Memo","More"],"title":"Program C functions","uri":"/post/memo/c-function/c-function/#"},{"categories":["C","Memo","More"],"content":" 1 Contents Assign string to variable ","date":"2025-01-23","objectID":"/post/memo/c-function/c-function/:1:0","series":null,"tags":["C","Memo","More"],"title":"Program C functions","uri":"/post/memo/c-function/c-function/#contents"},{"categories":["C","Memo","More"],"content":" 2 Assign string to variable Func Header Description sprintf string.h assign format string to variable. sprintf(str, “%s %s\\n”, s1, s2) strncpy string.h copy string from a variable to another. strncpy(str, source, length) ","date":"2025-01-23","objectID":"/post/memo/c-function/c-function/:2:0","series":null,"tags":["C","Memo","More"],"title":"Program C functions","uri":"/post/memo/c-function/c-function/#assign-string-to-variable"},{"categories":["Proxmox","Gist","More"],"content":"There are a few gists for proxmox. ","date":"2025-01-04","objectID":"/post/gist/proxmox/proxmox/:0:0","series":null,"tags":["Proxmox","IPV6","Gist","More"],"title":"Proxmox Gist","uri":"/post/gist/proxmox/proxmox/#"},{"categories":["Proxmox","Gist","More"],"content":" 1 Mount NFS/CIFS share in Unprivileged LXC containersTutorial ","date":"2025-01-04","objectID":"/post/gist/proxmox/proxmox/:1:0","series":null,"tags":["Proxmox","IPV6","Gist","More"],"title":"Proxmox Gist","uri":"/post/gist/proxmox/proxmox/#mount-nfscifs-share-in-unprivileged-lxc-containers"},{"categories":["Gist","VPS","More"],"content":" 1 BackgroundThere are many cloud service providers only sell public-ipv4-only virtual machines. But, for some reasons, having ipv6 support could make things easier. In this case, we’ll use ipv4 to ipv6 tunnel to connect to ipv6 network. ","date":"2024-12-21","objectID":"/post/gist/vps-ipv6/vps-ipv6/:1:0","series":null,"tags":["IPV6","Gist","VPS","More"],"title":"Connect to IPV6 network with public-ipv4-only VPS","uri":"/post/gist/vps-ipv6/vps-ipv6/#background"},{"categories":["Gist","VPS","More"],"content":" 2 Step register in HE.net tunnel broker for free to use ipv4ToIpv6 tunnel service 1.1. create tunnel 1.2. configure ipv6 tunnel on virtual machine through its example configurations. waiting until it is ready ","date":"2024-12-21","objectID":"/post/gist/vps-ipv6/vps-ipv6/:2:0","series":null,"tags":["IPV6","Gist","VPS","More"],"title":"Connect to IPV6 network with public-ipv4-only VPS","uri":"/post/gist/vps-ipv6/vps-ipv6/#step"},{"categories":["Gist","VPS","More"],"content":" 3 IPV6 tunnel problem He.net unable to register by gmail and outlook. Solution: it works with 163, registered at 2024-12-21. He.net cannot create ipv6 tunnel, caused by “This network is restricted” Possible reason: He.net block target ip address Solution: create tunnel with valid ipv4 address. Then, switch to blocked ip address, created at 2024-12-21 He.net tunnel will close due to inactivity for a certain time. Solution: ping a ipv6 website periodically every 10 minutes. Sh: crontab -l 2\u003e/dev/null | echo \"*/10 * * * * ping -c 2 ipv6.google.com\" | crontab - ","date":"2024-12-21","objectID":"/post/gist/vps-ipv6/vps-ipv6/:3:0","series":null,"tags":["IPV6","Gist","VPS","More"],"title":"Connect to IPV6 network with public-ipv4-only VPS","uri":"/post/gist/vps-ipv6/vps-ipv6/#ipv6-tunnel-problem"},{"categories":[],"content":" 1 TODO gist/ipv6 yubikey_gnupg ","date":"2024-11-21","objectID":"/utils/note/:1:0","series":null,"tags":[],"title":"","uri":"/utils/note/#todo"},{"categories":["Docker","Gist","More"],"content":"Allow docker to use IPV6 network. This solution is not working in my network that parent router may have firewall that make my device unable to get connection automatically, details checkout to my ipv6 network issue ","date":"2024-11-13","objectID":"/post/gist/docker/docker/:0:0","series":null,"tags":["Docker","IPV6","Gist","More"],"title":"Docker IPV6 Setup","uri":"/post/gist/docker/docker/#"},{"categories":["Docker","Gist","More"],"content":" 1 Check docker IPV6 is enabled","date":"2024-11-13","objectID":"/post/gist/docker/docker/:1:0","series":null,"tags":["Docker","IPV6","Gist","More"],"title":"Docker IPV6 Setup","uri":"/post/gist/docker/docker/#check-docker-ipv6-is-enabled"},{"categories":["Docker","Gist","More"],"content":" 2 Get ipv6 address range in host bash ip -6 route show ","date":"2024-11-13","objectID":"/post/gist/docker/docker/:2:0","series":null,"tags":["Docker","IPV6","Gist","More"],"title":"Docker IPV6 Setup","uri":"/post/gist/docker/docker/#get-ipv6-address-range-in-host"},{"categories":["Docker","Gist","More"],"content":" 3 Enable IPV6 in dockerThere are 2 ways to enable ","date":"2024-11-13","objectID":"/post/gist/docker/docker/:3:0","series":null,"tags":["Docker","IPV6","Gist","More"],"title":"Docker IPV6 Setup","uri":"/post/gist/docker/docker/#enable-ipv6-in-docker"},{"categories":["Docker","Gist","More"],"content":" 3.1 1. Enable IPV6 in docker configurationEdit docker configuration file /etc/docker/daemon.json. Assume the ipv6 address range is 2400::/64. bash { \"ipv6\": true, \"fixed-cidr-v6\": \"2400::/64\", \"ip6tables\": true # default is true } 3.1.1 Restart docker service bash systemctl restart docker ","date":"2024-11-13","objectID":"/post/gist/docker/docker/:3:1","series":null,"tags":["Docker","IPV6","Gist","More"],"title":"Docker IPV6 Setup","uri":"/post/gist/docker/docker/#1-enable-ipv6-in-docker-configuration"},{"categories":["Docker","Gist","More"],"content":" 3.1 1. Enable IPV6 in docker configurationEdit docker configuration file /etc/docker/daemon.json. Assume the ipv6 address range is 2400::/64. bash { \"ipv6\": true, \"fixed-cidr-v6\": \"2400::/64\", \"ip6tables\": true # default is true } 3.1.1 Restart docker service bash systemctl restart docker ","date":"2024-11-13","objectID":"/post/gist/docker/docker/:3:1","series":null,"tags":["Docker","IPV6","Gist","More"],"title":"Docker IPV6 Setup","uri":"/post/gist/docker/docker/#restart-docker-service"},{"categories":["Docker","Gist","More"],"content":" 3.2 2. Enable IPV6 in docker compose file yaml networks: ip6net: enable_ipv6: true ipam: config: - subnet: 2400::/64 ","date":"2024-11-13","objectID":"/post/gist/docker/docker/:3:2","series":null,"tags":["Docker","IPV6","Gist","More"],"title":"Docker IPV6 Setup","uri":"/post/gist/docker/docker/#2-enable-ipv6-in-docker-compose-file"},{"categories":["Docker","Gist","More"],"content":" 4 Problem old docker version does not support IPV6 solution: upgrade It does not work no solution yet ","date":"2024-11-13","objectID":"/post/gist/docker/docker/:4:0","series":null,"tags":["Docker","IPV6","Gist","More"],"title":"Docker IPV6 Setup","uri":"/post/gist/docker/docker/#problem"},{"categories":["Gist","More"],"content":"TODO: Add ipv6 setting up for home network Enable IPV6 connection in OpenWRT. ","date":"2024-11-13","objectID":"/post/gist/ipv6/ipv6/:0:0","series":null,"tags":["IPV6","Gist","More"],"title":"OpenWRT IPV6 Setup","uri":"/post/gist/ipv6/ipv6/#"},{"categories":["Gist","More"],"content":" 1 IPV6 network ipv6 relay mode if router does not been assigned ipv6 address with prefix delegation. ipv6 server mode if router has ipv6 address with prefix delegation. ","date":"2024-11-13","objectID":"/post/gist/ipv6/ipv6/:1:0","series":null,"tags":["IPV6","Gist","More"],"title":"OpenWRT IPV6 Setup","uri":"/post/gist/ipv6/ipv6/#ipv6-network"},{"categories":["Gist","More"],"content":" 2 IPV6 problem in relay mode if upstream router has wrong settings that cause all clients cannot be assigned ipv6 address. It requires client to ping the router for getting ipv6 address. TODO: add keywords for searching the solutions connection problem if router sets learn routes in v24.01 disable learn routes in WAN interface disable learn routes in LAN interface ","date":"2024-11-13","objectID":"/post/gist/ipv6/ipv6/:2:0","series":null,"tags":["IPV6","Gist","More"],"title":"OpenWRT IPV6 Setup","uri":"/post/gist/ipv6/ipv6/#ipv6-problem-in-relay-mode"},{"categories":["Proxmox"],"content":" background software structure ","date":"2024-05-28","objectID":"/post/proxmox/mobile-pve/mobile-pve/:0:0","series":null,"tags":["Proxmox","PVE"],"title":"All-in-one router in proxmox for rental place","uri":"/post/proxmox/mobile-pve/mobile-pve/#"},{"categories":["Proxmox"],"content":" 1 Change source","date":"2024-05-28","objectID":"/post/proxmox/mobile-pve/mobile-pve/:1:0","series":null,"tags":["Proxmox","PVE"],"title":"All-in-one router in proxmox for rental place","uri":"/post/proxmox/mobile-pve/mobile-pve/#change-source"},{"categories":["Proxmox"],"content":" 1.1 Debian source","date":"2024-05-28","objectID":"/post/proxmox/mobile-pve/mobile-pve/:1:1","series":null,"tags":["Proxmox","PVE"],"title":"All-in-one router in proxmox for rental place","uri":"/post/proxmox/mobile-pve/mobile-pve/#debian-source"},{"categories":["Proxmox"],"content":" 1.2 Proxmox community source","date":"2024-05-28","objectID":"/post/proxmox/mobile-pve/mobile-pve/:1:2","series":null,"tags":["Proxmox","PVE"],"title":"All-in-one router in proxmox for rental place","uri":"/post/proxmox/mobile-pve/mobile-pve/#proxmox-community-source"},{"categories":["Proxmox"],"content":" 2 OpenWRT setup","date":"2024-05-28","objectID":"/post/proxmox/mobile-pve/mobile-pve/:2:0","series":null,"tags":["Proxmox","PVE"],"title":"All-in-one router in proxmox for rental place","uri":"/post/proxmox/mobile-pve/mobile-pve/#openwrt-setup"},{"categories":["Proxmox"],"content":" 3 Internal network interface for LoginThe official Proxmox provides a enterprise source, but we do not need to subscription a enterprise license in home use. We only need the free and well-supported community source. By the way, we get a limitation download speed from international connect (1Mbps approximately) in home use, even I bought 300Mbps download speed plan. Thus, need to change system software sources as well. It will need Ali Yun source andUSTC source。 ","date":"2024-05-28","objectID":"/post/proxmox/mobile-pve/mobile-pve/:3:0","series":null,"tags":["Proxmox","PVE"],"title":"All-in-one router in proxmox for rental place","uri":"/post/proxmox/mobile-pve/mobile-pve/#internal-network-interface-for-login"},{"categories":["Proxmox"],"content":" 4 Debian SourceThe Proxmox is based on Debian, thus, we need to change debian sources. Comment all contents of /etc/apt/sources.list file and added following contents (need root authority): bash deb http://mirrors.aliyun.com/debian/ buster main non-free contrib deb-src http://mirrors.aliyun.com/debian/ buster main non-free contrib deb http://mirrors.aliyun.com/debian-security buster/updates main deb-src http://mirrors.aliyun.com/debian-security buster/updates main deb http://mirrors.aliyun.com/debian/ buster-updates main non-free contrib deb-src http://mirrors.aliyun.com/debian/ buster-updates main non-free contrib deb http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib deb-src http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib ","date":"2024-05-28","objectID":"/post/proxmox/mobile-pve/mobile-pve/:4:0","series":null,"tags":["Proxmox","PVE"],"title":"All-in-one router in proxmox for rental place","uri":"/post/proxmox/mobile-pve/mobile-pve/#debian-source-1"},{"categories":["Proxmox"],"content":" 5 Proxmox community sourceFirst, delete Proxmox enterprise sources: bash rm -rf /etc/apt/sources.list.d/pve-enterprise.list Download private key: bash wget http://download.proxmox.com/debian/proxmox-ve-release-6.x.gpg -O /etc/apt/trusted.gpg.d/proxmox-ve-release-6.x.gpg I used USTC sources, So, add USTC Proxmox sources into it bash echo \"deb https://mirrors.ustc.edu.cn/proxmox/debian/pve buster pve-no-subscription\" \u003e /etc/apt/sources.list.d/pve-no-subscription.list Done! ","date":"2024-05-28","objectID":"/post/proxmox/mobile-pve/mobile-pve/:5:0","series":null,"tags":["Proxmox","PVE"],"title":"All-in-one router in proxmox for rental place","uri":"/post/proxmox/mobile-pve/mobile-pve/#proxmox-community-source-1"},{"categories":["More"],"content":" 1 Install Software","date":"2024-04-15","objectID":"/post/common/yubikey-gnupg/yubikey-gnupg/:1:0","series":null,"tags":["More","yubikey","gnupg"],"title":"Yubikey and backup yubikey used as Smart Card with GnuPG","uri":"/post/common/yubikey-gnupg/yubikey-gnupg/#install-software"},{"categories":["More"],"content":" 1.1 Ubuntu bash # TODO: apt install software ","date":"2024-04-15","objectID":"/post/common/yubikey-gnupg/yubikey-gnupg/:1:1","series":null,"tags":["More","yubikey","gnupg"],"title":"Yubikey and backup yubikey used as Smart Card with GnuPG","uri":"/post/common/yubikey-gnupg/yubikey-gnupg/#ubuntu"},{"categories":["More"],"content":" 1.2 Windows bash choco install git wget # TODO: install yubikey-personalization ykman # Only uses gpg to operate yubikey as smart card. Not test for configuring yubikey ","date":"2024-04-15","objectID":"/post/common/yubikey-gnupg/yubikey-gnupg/:1:2","series":null,"tags":["More","yubikey","gnupg"],"title":"Yubikey and backup yubikey used as Smart Card with GnuPG","uri":"/post/common/yubikey-gnupg/yubikey-gnupg/#windows"},{"categories":["More"],"content":" 1.3 macOS bash brew install \\ gnupg yubikey-personalization ykman pinentry-mac wget ","date":"2024-04-15","objectID":"/post/common/yubikey-gnupg/yubikey-gnupg/:1:3","series":null,"tags":["More","yubikey","gnupg"],"title":"Yubikey and backup yubikey used as Smart Card with GnuPG","uri":"/post/common/yubikey-gnupg/yubikey-gnupg/#macos"},{"categories":["More"],"content":" 2 Yubikey GnuPGThe instructions are mainly referred by YubiKey-Guide. I simplify the process of configuring yubikey, but sacrifice the security. Create a temporary directory bash GNUPGHOME=$(mktemp -d -t gnupg-$(date +%Y-%m-%d)-XXXXXXXXXX) Download hardened configuration bash cd $GNUPGHOME wget https://raw.githubusercontent.com/drduh/config/master/gpg.conf Set identity bash IDENTITY=\"name \u003cemail\u003e\" Set key type as 4096-bit RSA bash KEY_TYPE=rsa4096 Set expiration 10 years bash EXPIRATION=10y Generate strong passphrase bash CERTIFY_PASS=$(LC_ALL=C tr -dc 'A-Z1-9' \u003c /dev/urandom | \\ tr -d \"1IOS5U\" | fold -w 30 | sed \"-es/./ /\"{1..26..5} | \\ cut -c2- | tr \" \" \"-\" | head -1) ; echo \"$CERTIFY_PASS\" Save to safe place bash echo \"Warning: Save To Save Place\" Create certify key with no expiration date bash gpg --batch --passphrase \"$CERTIFY_PASS\" \\ --quick-generate-key \"$IDENTITY\" \"$KEY_TYPE\" cert never Save revocation certification bash # TODO: paraphrase stdout, then save to variable for auto backing up cp /Users/[user name]/.gnupg/openpgp-revocs.d/[name].rev Get certify key identifier and fingerprint bash KEYID=$(gpg -k --with-colons \"$IDENTITY\" | awk -F: '/^pub:/ { print $5; exit }') KEYFP=$(gpg -k --with-colons \"$IDENTITY\" | awk -F: '/^fpr:/ { print $10; exit }') printf \"\\nKey ID: %40s\\nKey FP: %40s\\n\\n\" \"$KEYID\" \"$KEYFP\" Create 3 subkeys, consist of 1 signature keys, 1 encryption keys and 1 authentication keys. bash for SUBKEY in sign encrypt auth ; do \\ gpg --batch --pinentry-mode=loopback --passphrase \"$CERTIFY_PASS\" \\ --quick-add-key \"$KEYFP\" \"$KEY_TYPE\" \"$SUBKEY\" \"$EXPIRATION\" done Verify keys bash gpg -K Edit public key, to avoid uploading issue of keybase bash gpg --edit-key $KEYID gpg\u003e setpref AES256 AES192 AES 3DES SHA512 SHA384 SHA256 SHA224 SHA1 ZLIB BZIP2 ZIP bash setpref AES256 AES192 AES 3DES SHA512 SHA384 SHA256 SHA224 SHA1 ZLIB BZIP2 ZIP Backup keys for certify key, subkeys and public key bash gpg --output $GNUPGHOME/$KEYID-Certify.key \\ --batch --pinentry-mode=loopback --passphrase \"$CERTIFY_PASS\" \\ --armor --export-secret-keys $KEYID gpg --output $GNUPGHOME/$KEYID-Subkeys.key \\ --batch --pinentry-mode=loopback --passphrase \"$CERTIFY_PASS\" \\ --armor --export-secret-subkeys $KEYID gpg --output $GNUPGHOME/$KEYID-$(date +%F).asc \\ --armor --export $KEYID Save back-up files to safe place or offline. I save the files to the folder where only root have permissions to read and write. bash echo \"Warning: Save the backup files to save place\" Reset your Yubikey if you want bash ykman openpgp reset Set Admin Pin bash ADMIN_PIN=\"\u003cyour pin\u003e\" Set User Pin bash USER_PIN=\"\u003cyour pin\u003e\" Change Admin Pin and User Pin (default: 12345678 and 123456 separately) bash gpg --card-edit gpg/card\u003e admin bash admin gpg/card\u003e passwd bash passwd Change the number of retry attempts bash ykman openpgp access set-retries 5 5 5 -f -a $ADMIN_PIN Set Yubikey login information bash gpg --command-fd=0 --pinentry-mode=loopback --edit-card \u003c\u003cEOF admin login $IDENTITY $ADMIN_PIN quit EOF Set Yubikey attributes bash gpg --card-edit gpg/card\u003e admin bash admin Name, gpg/card\u003e name bash name Language, gpg/card\u003e lang bash lang URL, gpg/card\u003e url bash url Sex, gpg/card\u003e sex bash sex Transfer subkeys to Yubikey Transfer signature key to Yubikey key slot 1 bash gpg --edit-key $KEYID select first ssb bash gpg\u003e key 1 sec rsa4096/0x4ECBB9CD3E2CC0A7 created: 2024-04-16 expires: never usage: C trust: ultimate validity: ultimate ssb* rsa4096/0xD625518597D8F9CA created: 2024-04-16 expires: 2034-04-14 usage: S ssb rsa4096/0x305EB972E4B47129 created: 2024-04-16 expires: 2034-04-14 usage: E ssb rsa4096/0x0AB127F2342DA650 created: 2024-04-16 expires: 2034-04-14 usage: A [ultimate] (1). test \u003ctest@email.test\u003e save to yubikey slot 1 bash gpg\u003e keytocard Please select where to store the key: (1) Signature key (3) Authentication key Your selection? 1 sec rsa4096/0x4ECBB9CD3E2CC0A7 created: 2024-04-16 expires: never usage: C trust: ultimate validity: ultimate ssb* rsa4096/0xD6255","date":"2024-04-15","objectID":"/post/common/yubikey-gnupg/yubikey-gnupg/:2:0","series":null,"tags":["More","yubikey","gnupg"],"title":"Yubikey and backup yubikey used as Smart Card with GnuPG","uri":"/post/common/yubikey-gnupg/yubikey-gnupg/#yubikey-gnupg"},{"categories":["More"],"content":" 3 Using YubikeyInitialize GnuPG bash gpg -k Import a hardened configuration bash cd ~/.gnupg wget https://raw.githubusercontent.com/drduh/config/master/gpg.conf Set option, avoiding the problem that GnuPG will repeatedly prompt for the insertion of an already-inserted Yubikey bash touch scdaemon.conf echo \"disable-ccid\" \u003e\u003escdaemon.conf Import public key bash KEYID=[your public key ID] bash gpg --import [somewhere]/$KEYID*.asc Encryption bash mkdir ~/tmp cd ~/tmp bash echo \"\\ntest message string\" | \\ gpg --encrypt --armor \\ --recipient $KEYID --output encrypted.txt Decryption bash gpg -o plaintxt.txt --decrypt --armor encrypted.txt Verify result bash cat plaintxt.txt rm plaintxt.txt Checkout backup Yubilikey with inserting bakcup yubikey. Then, remove the GnuPG shadowed key. Because the stub is stored the GnuPG key ID and yubikey serial number. It requires to recreate the correct stub. Finally, repeat encryption and decryption steps. bash gpg-connect-agent \"scd serialno\" \"learn --force\" /bye ","date":"2024-04-15","objectID":"/post/common/yubikey-gnupg/yubikey-gnupg/:3:0","series":null,"tags":["More","yubikey","gnupg"],"title":"Yubikey and backup yubikey used as Smart Card with GnuPG","uri":"/post/common/yubikey-gnupg/yubikey-gnupg/#using-yubikey"},{"categories":["More"],"content":" 1 Create configuration folders bash mkdir /root/plex mkdir /root/plex/config mkdir /mnt/vdb1/plex mkdir /mnt/vdb1/plex/transcode mkdir /mnt/vdb1/plex/data ","date":"2022-06-09","objectID":"/post/docker/plex/plex/:1:0","series":null,"tags":["More","Plex","Docker"],"title":"Plex","uri":"/post/docker/plex/plex/#create-configuration-folders"},{"categories":["More"],"content":" 2 Docker compose filedocker-compose.yml yml version: \"3\" services: plex: container_name: plex image: plexinc/pms-docker # mem_limit: 4gb restart: unless-stopped environment: - TZ=Asia/Shanghai #- PLEX_CLAIM=\u003cclaimToken\u003e network_mode: host volumes: - /root/plex/config:/config - /mnt/vdb1/plex/transcode:/transcode - /mnt/vdb1/plex/data:/data ","date":"2022-06-09","objectID":"/post/docker/plex/plex/:2:0","series":null,"tags":["More","Plex","Docker"],"title":"Plex","uri":"/post/docker/plex/plex/#docker-compose-file"},{"categories":["More"],"content":"Nginx Proxy Manager ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:0:0","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#"},{"categories":["More"],"content":" 1 Contents Self Signed Certificate Cloudflare Certificate ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:1:0","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#contents"},{"categories":["More"],"content":" 2 Install create data and configure folders bash mkdir nginxProxyManager mkdir nginxProxyManager/data mkdir nginxProxyManager/mysql mkdir /letsencrypt mkdir /letsencrypt/data docker create network bash docker network create reverseProxyNetwork bash docker network create nginxProxyManagerNetwork docker-compose.yml start bash docker compose up -d ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:2:0","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#install"},{"categories":["More"],"content":" 3 Self Signed CertificateThere are some of self-host project requiring the https security. These services might be run on local network without public domain. Create self signed certificate handles this requirement ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:3:0","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#self-signed-certificate"},{"categories":["More"],"content":" 3.1 Create Private Key bash openssl genrsa -des3 -out private.key 2048 output: bash root@unginx:/home/pi/certs# openssl genrsa -des3 -out private.key 2048 Enter PEM pass phrase: # enter pass phrase Verifying - Enter PEM pass phrase: ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:3:1","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#create-private-key"},{"categories":["More"],"content":" 3.2 Generate Public Key bash openssl rsa -in private.key -out server.key output: bash root@unginx:/home/pi/certs# openssl rsa -in private.key -out server.key Enter pass phrase for private.key: # enter pass phrase writing RSA key ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:3:2","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#generate-public-key"},{"categories":["More"],"content":" 3.3 Generate Certificate bash openssl req -new -days 3650 -key server.key -out server.csr output: bash root@unginx:/home/pi/certs# openssl req -new -days 3650 -key server.key -out server.csr Ignoring -days without -x509; not generating a certificate You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter '.', the field will be left blank. ----- Country Name (2 letter code) [AU]:cn State or Province Name (full name) [Some-State]:zj Locality Name (eg, city) []:sx Organization Name (eg, company) [Internet Widgits Pty Ltd]:wt Organizational Unit Name (eg, section) []:wt Common Name (e.g. server FQDN or YOUR name) []:*.ubuntunginx.lan # Important: *.ubuntunginx.lan or ip address Email Address []: Please enter the following 'extra' attributes to be sent with your certificate request A challenge password []: An optional company name []: ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:3:3","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#generate-certificate"},{"categories":["More"],"content":" 3.4 Generate Self Signed Certificate bash openssl x509 -in server.csr -out server.crt -req -signkey server.key -days 3650 output: bash root@unginx:/home/pi/certs# openssl x509 -in server.csr -out server.crt -req -signkey server.key -days 3650 Certificate request self-signature ok subject=C = cn, ST = zj, L = sx, O = wt, OU = wt, CN = *.ubuntunginx.lan ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:3:4","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#generate-self-signed-certificate"},{"categories":["More"],"content":" 3.5 Make Use bash root@unginx:/home/pi/certs# ls private.key server.crt server.csr server.key Directly add server.crt and server.key to SSL Certificate -\u003e Add SSL Certificate OR In nginx configuration bash # /etc/nginx/snippets/self-signed.conf ssl_certificate /home/pi/certs/server.crt ssl_certificate_key /home/pi/certs/server.key ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:3:5","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#make-use"},{"categories":["More"],"content":" 4 Cloudflare CertificateCreate Certificate at $YourDomain -\u003e SSL/TLS -\u003e Origin Server -\u003e Create Certificate ","date":"2022-05-29","objectID":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/:4:0","series":null,"tags":["More","nginx","https","openssl"],"title":"Nginx Proxy Manager","uri":"/post/docker/nginx-proxy-manager/nginx-proxy-manager/#cloudflare-certificate"},{"categories":["Memo","More"],"content":"OpenWRT ","date":"2022-05-28","objectID":"/post/memo/openwrt/openwrt/:0:0","series":null,"tags":["OpenWRT","Memo","More"],"title":"OpenWRT","uri":"/post/memo/openwrt/openwrt/#"},{"categories":["Memo","More"],"content":" 1 Contents Wildcard Domain\u0026Subdomain ","date":"2022-05-28","objectID":"/post/memo/openwrt/openwrt/:1:0","series":null,"tags":["OpenWRT","Memo","More"],"title":"OpenWRT","uri":"/post/memo/openwrt/openwrt/#contents"},{"categories":["Memo","More"],"content":" 2 Wildcard Domain \u0026 Subdomain","date":"2022-05-28","objectID":"/post/memo/openwrt/openwrt/:2:0","series":null,"tags":["OpenWRT","Memo","More"],"title":"OpenWRT","uri":"/post/memo/openwrt/openwrt/#wildcard-domain--subdomain"},{"categories":["Memo","More"],"content":" 2.1 IntroductionThe IP address can be fixed manually in Network -\u003e DHCP and DNS -\u003e Static Leases. The default local domain will be automatically allocated by hostname. For instance, ubuntuNginx.lan is the local domain of ubuntuNginx machine. However, if I want to all sub-domains pointing to a ip address, it has to add hostnames into Network -\u003e Hostnames with every sub-domain manually. ","date":"2022-05-28","objectID":"/post/memo/openwrt/openwrt/:2:1","series":null,"tags":["OpenWRT","Memo","More"],"title":"OpenWRT","uri":"/post/memo/openwrt/openwrt/#introduction"},{"categories":["Memo","More"],"content":" 2.2 Wildcard matchThere is not a general solution in LUCI UI. It requires operating in ssh or console. Add the line, in the /etc/dnsmasq.conf: bash # '.' is required address=/.[domain]/[ip address] Example: bash # '.' is required address=/.ubuntunginx.lan/192.168.0.2 ","date":"2022-05-28","objectID":"/post/memo/openwrt/openwrt/:2:2","series":null,"tags":["OpenWRT","Memo","More"],"title":"OpenWRT","uri":"/post/memo/openwrt/openwrt/#wildcard-match"},{"categories":["Windows","Command","More"],"content":"Record infrequently used but potential useful windows commands ","date":"2021-12-17","objectID":"/post/memo/windows-cmd/windows-cmd/:0:0","series":null,"tags":["Windows","Command","More"],"title":"Windows Commands","uri":"/post/memo/windows-cmd/windows-cmd/#"},{"categories":["Windows","Command","More"],"content":" 1 Contents Shutdown in Schedule ","date":"2021-12-17","objectID":"/post/memo/windows-cmd/windows-cmd/:1:0","series":null,"tags":["Windows","Command","More"],"title":"Windows Commands","uri":"/post/memo/windows-cmd/windows-cmd/#contents"},{"categories":["Windows","Command","More"],"content":" 2 Shutdown in scheduleshut windows down by time in second bash shutdown -s -t [second] examples: bash # shutdown after 1 hour shutdown -s -t 3600 ","date":"2021-12-17","objectID":"/post/memo/windows-cmd/windows-cmd/:2:0","series":null,"tags":["Windows","Command","More"],"title":"Windows Commands","uri":"/post/memo/windows-cmd/windows-cmd/#shutdown-in-schedule"},{"categories":["Windows","Command","More"],"content":" 2.1 Cancel scheduled shutdown bash shutdown -a ","date":"2021-12-17","objectID":"/post/memo/windows-cmd/windows-cmd/:2:1","series":null,"tags":["Windows","Command","More"],"title":"Windows Commands","uri":"/post/memo/windows-cmd/windows-cmd/#cancel-scheduled-shutdown"},{"categories":["More"],"content":"-- with XiaoMi Smart Devices","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/"},{"categories":["More"],"content":" 1 Homeassitant installation by dockerdocker-compose.yml yml version: \"3\" services: homeassitant: container_name: homeassistant image: homeassistant/home-assistant restart: unless-stopped network_mode: host privileged: true # environment: # - https_proxy=http://172.16.8.168:8123 volumes: - /root/homeassistant/config:/config - /etc/localtime:/etc/localtime:ro Create and Run docker bash docker-compose up -d ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:1:0","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#homeassitant-installation-by-docker"},{"categories":["More"],"content":" 2 HACS installation (Integrations of the community store)If hacs not installed, manually install hacs bash # Go inside the container docker exec -it homeassistant bash # Run the hacs download script wget -O - https://get.hacs.xyz | bash - # Exit the container exit Restart homeassistant docker or restart server in Server Controls in Configuration. If you are in China with very low speed of connecting hacs.xyz website, add http proxy in environment variable of docker compose file. It might to help to fast connect. More details, following up with official instruction ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:2:0","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#hacs-installation-integrations-of-the-community-store"},{"categories":["More"],"content":" 3 IntegrationsBecause we have a bad connection to github. I manuel install most of them from github. ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:3:0","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#integrations"},{"categories":["More"],"content":" 3.1 ThemesThere is lovelace-ios-dark-mode-theme as an example bash # download theme git clone https://github.com/basnijholt/lovelace-ios-dark-mode-theme.git PATH/TO/HOMESSISTANT/config/themes Add two lines to PATH/TO/HOMESSISTANT/config/configuration.yaml yml frontend: themes: !include_dir_merge_named themes Finally, restart homeassistant service and setup theme at theme of user’s configuration ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:3:1","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#themes"},{"categories":["More"],"content":" 3.2 HomeKit Directly install ‘HomeKit’ in homeassistant official integration. Apple devices pairing with QR code or 8 digits in Notification. Setup configuration in homeassistant integration ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:3:2","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#homekit"},{"categories":["More"],"content":" 3.3 XiaoMi MIoT (Pending) bash git clone https://github.com/ha0y/xiaomi_miot_raw.git cp -dr ./xiaomi_miot_raw/custom_components/xiaomi_miot_raw PATH/TO/HOMESSISTANT/config/custom_components # restart homeassistant docker or restart server in Server Controls in Configuration docker restart homeassistant Finally, set up XiaoMi account at Configuration/Integrations ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:3:3","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#xiaomi-miot-pending"},{"categories":["More"],"content":" 4 Setup Home\u0026Shortcut in IOSThere are several issues I met in IOS setting up: Home app cannot connect to smart devices outside of home networks But do not have a solution yet Home \u0026 Shortcut app cannot setup switch on or off only actions on smart devices After solving switch on or off only actions, the button light on and off in Home app is not a correct. That light on or off does not perform correctly as smart devices real switch state. Because unidirectional action only need to run it and do not need to ‘off’ run it ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:4:0","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#setup-homeshortcut-in-ios"},{"categories":["More"],"content":" 4.1 Switch on or off only actionsThe default home assistant switch button can trigger on and off. But cannot switch on or off only. An example of that, In my computer room I place 2 NFC tags to control computer on or off individually. But I don’t want computer turn off by mis-touch when computer is on. The best way to achieve this function is making a script in home assistant configuration. Which applies to any other presetting action as well, such as trigger a specific light color value. ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:4:1","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#switch-on-or-off-only-actions"},{"categories":["More"],"content":" 4.2 Home\u0026Shortcut in IOSAs all script set done, the Home app may not display the action of scripts. Under homeassistant Integration menu, HomeKit integration must be re-add script element. At HomeKit integration icon. A configure model shall be popped up after click its configure button. Remove script first, and then re-open configure to add scripts. In shortcut app, the action need to be doubled, because second action can turn icon button light off. ","date":"2021-11-24","objectID":"/post/docker/homeassitant/homeassitant/:4:2","series":null,"tags":["Smart Device","More"],"title":"Homeassitant","uri":"/post/docker/homeassitant/homeassitant/#homeshortcut-in-ios"},{"categories":["Memo","More"],"content":"-- Introduction","date":"2021-11-03","objectID":"/post/memo/memo/memo/","series":null,"tags":["Memo","More"],"title":"Memo","uri":"/post/memo/memo/memo/"},{"categories":["Memo","More"],"content":" 1 —— Introduction","date":"2021-11-03","objectID":"/post/memo/memo/memo/:1:0","series":null,"tags":["Memo","More"],"title":"Memo","uri":"/post/memo/memo/memo/#-introduction"},{"categories":["Memo","More"],"content":" 2 BackgroundNow, the network infrastructure has spread out from submarine communications cable system to low earth orbit communications system. It breaks through space constrains. Wherever people live, Everyone can share their own feelings, knowledge and experience on the internet. Therefore, The place where people can acquire knowledge is transferred from library to the internet. That further leads to a massive increase in depth and breadth of knowledge that people have acquired. On the internet, we can find a lot of blogs, articles and notes. They’re detailed explain concepts and usage of knowledge. ","date":"2021-11-03","objectID":"/post/memo/memo/memo/:2:0","series":null,"tags":["Memo","More"],"title":"Memo","uri":"/post/memo/memo/memo/#background"},{"categories":["Memo","More"],"content":" 3 Objectives In this section, the main task will record the knowledge that I used in projects and briefly notes the experience There are some knowledge that I deep understand but does not used in the projects. They’ll be lied into collection Aim to simplify help to ease to recall by analogy in the future increase efficiency of research ","date":"2021-11-03","objectID":"/post/memo/memo/memo/:3:0","series":null,"tags":["Memo","More"],"title":"Memo","uri":"/post/memo/memo/memo/#objectives"},{"categories":["Memo"],"content":" 1 Contents Bidirectional data flow between components(@Input \u0026 @Output) ","date":"2021-11-03","objectID":"/post/memo/angular/angular/:1:0","series":null,"tags":["Memo","Angular"],"title":"Angular","uri":"/post/memo/angular/angular/#contents"},{"categories":["Memo"],"content":" 2 Bidirectional data flow between components","date":"2021-11-03","objectID":"/post/memo/angular/angular/:2:0","series":null,"tags":["Memo","Angular"],"title":"Angular","uri":"/post/memo/angular/angular/#bidirectional-data-flow-between-components"},{"categories":["Memo"],"content":" 2.1 Sometimes, not work very well. ABANDON @Input value and @Output valueChange cannot detect value change when child component valueChange emit a value, especially, Multiple inheritance. next, try to use @ViewChild or @ViewChildren Bidirectional data flow between parent component and child component. It uses @Input and @Output decorates the variables. The more Input and Output details are at official angular guide ts // Import Input, Output and EventEmitter import { Input, Output, EventEmitter } from \"@angular/core\"; ","date":"2021-11-03","objectID":"/post/memo/angular/angular/:2:1","series":null,"tags":["Memo","Angular"],"title":"Angular","uri":"/post/memo/angular/angular/#sometimes-not-work-very-well-abandon"},{"categories":["Memo","More"],"content":" 1 Programming","date":"2021-11-03","objectID":"/post/memo/golang/golang/:1:0","series":null,"tags":["Memo","Golang","More"],"title":"Golang","uri":"/post/memo/golang/golang/#programming"},{"categories":["Memo","More"],"content":" 1.1 Format text string in console display (X) Looking for the solution. The ‘\\t’ did not work, especially, cannot align upper and lower text Consider to try ‘imgui’ ","date":"2021-11-03","objectID":"/post/memo/golang/golang/:1:1","series":null,"tags":["Memo","Golang","More"],"title":"Golang","uri":"/post/memo/golang/golang/#format-text-string-in-console-display-x"},{"categories":["Memo","More"],"content":" 2 Network","date":"2021-11-03","objectID":"/post/memo/golang/golang/:2:0","series":null,"tags":["Memo","Golang","More"],"title":"Golang","uri":"/post/memo/golang/golang/#network"},{"categories":["Proxmox"],"content":"Record usd Proxmox VE commands. ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:0:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#"},{"categories":["Proxmox"],"content":" 1 Contents Import disk img Add/Rescan undisplayed disk Passthrough sata drivers Delete PVE cluster Reinstall ceph Pin older kernel Delete snapshot forcedly Unlock virtual machine Unlock lxc container ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:1:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#contents"},{"categories":["Proxmox"],"content":" 2 Import Disk ImageTransfer .img disc image file to Virtual Machine(vm) disk. The example is to transfer openWRT image file to VM disk. bash qm importdisk [VM id] [image path] [storage id] Example: bash qm importdisk 100 ./openwrt.img local-lvm ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:2:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#import-disk-image"},{"categories":["Proxmox"],"content":" 3 Rescan Undisplayed DiskIt would be rescan all disk which belongs to a specific virtual machine. If find undisplayed disk, it’ll add to virtual machine’s configuration bash qm rescan --vmid [VM id] Example: bash qm rescan --vmid 100 ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:3:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#rescan-undisplayed-disk"},{"categories":["Proxmox"],"content":" 4 Passthrough SATA Drivers bash # list all sata drivers ls -l /dev/disk/by-id/ # add sata to virtual machine, where sataX is sata0, sata1 ... qm set 100 -sataX /dev/disk/by-id/xxxxx # Example: # DO NOT add disk with part1, part2 ..., like /dev/disk/by-id/xxxxx-part1 qm set 100 -sata0 /dev/disk/by-id/xxxxx ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:4:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#passthrough-sata-drivers"},{"categories":["Proxmox"],"content":" 5 Delete PVE Cluster bash # list nodes and information pvecm nodes # delete the node pvecm delnode [NodeName] # list all nodes' configuration directory ls -l /etc/pve/nodes/ # delete or move to another location mv /etc/pve/nodes/[NodeName] /root/[NodeName] Examples: bash # remove this pve-node3 cluster pvecm nodes pvecm delnode pve-node3 ls -l /etc/pve/nodes/ mv /etc/pve/nodes/pve-node3 /root/pve-node3 ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:5:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#delete-pve-cluster"},{"categories":["Proxmox"],"content":" 6 Reinstall ceph bash rm -rf /etc/systemd/system/ceph* killall -9 ceph-mon ceph-mgr ceph-mds rm -rf /var/lib/ceph/mon/ /var/lib/ceph/mgr/ /var/lib/ceph/mds/ pveceph purge apt purge ceph-mon ceph-osd ceph-mgr ceph-mds rm /etc/init.d/ceph for i in $(apt search ceph | grep installed | awk -F/ '{print $1}'); do apt reinstall $i; done dpkg-reconfigure ceph-base dpkg-reconfigure ceph-mds dpkg-reconfigure ceph-common dpkg-reconfigure ceph-fuse for i in $(apt search ceph | grep installed | awk -F/ '{print $1}'); do apt reinstall $i; done pveceph install ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:6:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#reinstall-ceph"},{"categories":["Proxmox"],"content":" 7 Pin Older KernelLatest kernel may not be supported to a old hardware, requires fix the kernel version bash proxmox-boot-tool kernel pin [KernelVersion] Examples: bash proxmox-boot-tool kernel pin 5.13.19-6-pve ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:7:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#pin-older-kernel"},{"categories":["Proxmox"],"content":" 8 Delete Snapshot Forcedly bash qm delsnapshot [VMID] [SnapshotName] --force Examples: bash qm delsnapshot 100 update00 --force ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:8:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#delete-snapshot-forcedly"},{"categories":["Proxmox"],"content":" 9 Unlock Virtual Machine bash qm unlock [vmid] Examples: bash qm unlock 100 ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:9:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#unlock-virtual-machine"},{"categories":["Proxmox"],"content":" 10 Unlock LXC Container bash lct unlock [lxc-id] Examples: bash lct unlock 100 ","date":"2020-11-15","objectID":"/post/proxmox/proxmox-cmd/proxmox-cmd/:10:0","series":null,"tags":["Proxmox","PVE","Command"],"title":"Proxmox Commands","uri":"/post/proxmox/proxmox-cmd/proxmox-cmd/#unlock-lxc-container"},{"categories":["Linux","More"],"content":"Record infrequently used but potential useful commands ","date":"2020-10-27","objectID":"/post/memo/command/command/:0:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#"},{"categories":["Linux","More"],"content":" 1 Contents iperf3 - Network speed test qemu - convert images base64 - encode \u0026 decode smartctl - check macos ssd health git-crypt - transparent file encryption in git ","date":"2020-10-27","objectID":"/post/memo/command/command/:1:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#contents"},{"categories":["Linux","More"],"content":" 2 iperf3Test network speed between devices. First, open server-side iperf/iperf3 service, then, test it by client-side iperf/iperf3 application. Under windows system, the application is iperf3.exe. ","date":"2020-10-27","objectID":"/post/memo/command/command/:2:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#iperf3"},{"categories":["Linux","More"],"content":" 2.1 Open server-side iperf3 service bash iperf3 -s -p 5201 ","date":"2020-10-27","objectID":"/post/memo/command/command/:2:1","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#open-server-side-iperf3-service"},{"categories":["Linux","More"],"content":" 2.2 Open client-side iperf3 service bash iperf3 -c [ip address] -p 5201 ","date":"2020-10-27","objectID":"/post/memo/command/command/:2:2","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#open-client-side-iperf3-service"},{"categories":["Linux","More"],"content":" 3 Qemu convert images bash qemu-img convert -f [format] -O [output format] vm-114-disk-0.qcow2 vm-114-disk-0.raw Example: bash # convert qcow2 to raw image qemu-img convert -f qcow2 -O raw vm-114-disk-0.qcow2 vm-114-disk-0.raw ","date":"2020-10-27","objectID":"/post/memo/command/command/:3:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#qemu-convert-images"},{"categories":["Linux","More"],"content":" 4 base64 encode and decodeencode: bash echo 'YourText' | base64 create pseudorandom number and encrypted by base64: bash head -c32 /dev/urandom | base64 decode: bash echo 'WW91clRleHQK' | base64 --decode ","date":"2020-10-27","objectID":"/post/memo/command/command/:4:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#base64-encode-and-decode"},{"categories":["Linux","More"],"content":" 5 macos check ssd health bash smartctl -a [device id] ","date":"2020-10-27","objectID":"/post/memo/command/command/:5:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#macos-check-ssd-health"},{"categories":["Linux","More"],"content":" 6 zfs send entire pool bash zfs snap pool_old@migrate zfs send -Rv pool_old@migrate | zfs receive -F -d pool_new ","date":"2020-10-27","objectID":"/post/memo/command/command/:6:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#zfs-send-entire-pool"},{"categories":["Linux","More"],"content":" 7 zfs send dataset bash zfs snap pool/dataset@migrate zfs send -R pool/dataset@migrate | zfs receive -F pool/dataset_new ","date":"2020-10-27","objectID":"/post/memo/command/command/:7:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#zfs-send-dataset"},{"categories":["Linux","More"],"content":" 8 git-crypt","date":"2020-10-27","objectID":"/post/memo/command/command/:8:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#git-crypt"},{"categories":["Linux","More"],"content":" 9 git-crypt initialisationInitialise to automatically create .git-crypt folder bash git-crypt init Add public gpg key to project bash git-crypt add-gpg-user --trusted [your_email_or_key_id_or_fringerprint] example: bash git-crypt add-gpg-user --trusted F278A3CCB6C173BD3660D173564D16856D20F3FC Select files by adding .gitattributes file to automatic encrypt git # Encrypt ## Encrypt all files under vault vault/** filter=git-crypt diff=git-crypt ## Make sure that .gitattributes is never encrypted. .gitattributes !filter !diff ## Make sure that .gitignore is never encrypted. .gitignore !filter !diff ","date":"2020-10-27","objectID":"/post/memo/command/command/:9:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#git-crypt-initialisation"},{"categories":["Linux","More"],"content":" 10 common git-crypt usage Only show the files required to encrypt bash git-crypt status -e Remedies if git commit before encrypting bash git-crypt status -f ","date":"2020-10-27","objectID":"/post/memo/command/command/:10:0","series":null,"tags":["Linux","Command","More"],"title":"Unix-like System Commands","uri":"/post/memo/command/command/#common-git-crypt-usage"},{"categories":["Proxmox"],"content":"The official Proxmox provides a enterprise source, but we do not need to subscription a enterprise license in home use. We only need the free and well-supported community source. By the way, we get a limitation download speed from international connect (1Mbps approximately) in home use, even I bought 300Mbps download speed plan. Thus, need to change system software sources as well. It could use Tsinghua mirror, Ali Yun mirror andUSTC mirror。 ","date":"2020-07-19","objectID":"/post/proxmox/sources/sources/:0:0","series":null,"tags":["Proxmox","PVE"],"title":"Proxmox changes Sources","uri":"/post/proxmox/sources/sources/#"},{"categories":["Proxmox"],"content":" 1 Debian SourceThe Proxmox 8 is based on Debian 12 (bookworm), thus, we need to change debian 12 sources. Comment all contents of /etc/apt/sources.list file and added following contents (need root authority): bash deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware # debian-security update deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware # deb-src https://mirrors.tuna.tsinghua.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware ","date":"2020-07-19","objectID":"/post/proxmox/sources/sources/:1:0","series":null,"tags":["Proxmox","PVE"],"title":"Proxmox changes Sources","uri":"/post/proxmox/sources/sources/#debian-source"},{"categories":["Proxmox"],"content":" 2 Proxmox community sourceFirst, delete Proxmox enterprise sources: bash rm -rf /etc/apt/sources.list.d/pve-enterprise.list I used tsinghua mirror, So, add USTC Proxmox sources into it bash echo \"deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian/pve bookworm pve-no-subscription\" \u003e /etc/apt/sources.list.d/pve-no-subscription.list ","date":"2020-07-19","objectID":"/post/proxmox/sources/sources/:2:0","series":null,"tags":["Proxmox","PVE"],"title":"Proxmox changes Sources","uri":"/post/proxmox/sources/sources/#proxmox-community-source"},{"categories":["Proxmox"],"content":" 3 CT Templates source bash cp /usr/share/perl5/PVE/APLInfo.pm /usr/share/perl5/PVE/APLInfo.pm_back ","date":"2020-07-19","objectID":"/post/proxmox/sources/sources/:3:0","series":null,"tags":["Proxmox","PVE"],"title":"Proxmox changes Sources","uri":"/post/proxmox/sources/sources/#ct-templates-source"},{"categories":["Proxmox"],"content":" 4 Proxmox software installInstall vim, iperf3 and net-tools bash apt install vim net-tools iperf3 ","date":"2020-07-19","objectID":"/post/proxmox/sources/sources/:4:0","series":null,"tags":["Proxmox","PVE"],"title":"Proxmox changes Sources","uri":"/post/proxmox/sources/sources/#proxmox-software-install"},{"categories":[],"content":" 1 About Meabout me Welcome to my website! I’m a big fan of all computer-related, including hardware and software, and a one of silent majority. I currently in a stage of confusion, losing my way and seeking a new direction now. Thank you for visiting my blog! I’m excited to share my experiences, tips, and insights with you. Feel free to reach out and connect! Public Key for encryption: https://keybase.io/wtpersonal/key.asc or https://publicr2.wtpersonal.stream/key.asc ","date":"2020-07-03","objectID":"/about/:1:0","series":null,"tags":[],"title":"About","uri":"/about/#about-me"},{"categories":["Hugo"],"content":" 1 Background","date":"2020-07-03","objectID":"/post/hugo/loveit/loveit/:1:0","series":null,"tags":["Hugo","LoveIt"],"title":"Deploy Hugo static site","uri":"/post/hugo/loveit/loveit/#background"},{"categories":["Hugo"],"content":" 2 Prepare","date":"2020-07-03","objectID":"/post/hugo/loveit/loveit/:2:0","series":null,"tags":["Hugo","LoveIt"],"title":"Deploy Hugo static site","uri":"/post/hugo/loveit/loveit/#prepare"},{"categories":null,"content":"#— #title: “My Information” #toc: false #date: 2024-12-04T22:41:00+08:00 #lastmod: 2024-12-04T22:41:00+08:00 #featuredImage: #draft: false #[_build] #render = “never” #list = “never” #tags: [] #categories: [] #— ","date":"0001-01-01","objectID":"/private/info/:0:0","series":null,"tags":null,"title":"","uri":"/private/info/#"}]